(()=>{var e={};e.id=706,e.ids=[706],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3589:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(62688).A)("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]])},5336:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(62688).A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11860:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(62688).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},11964:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>o});var s=r(65239),a=r(48088),l=r(88170),i=r.n(l),n=r(30893),d={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);r.d(t,d);let o={children:["",{children:["(dashboard)",{children:["setting",{children:["users",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,76176)),"E:\\PROJECT\\Final_project\\src\\app\\(dashboard)\\setting\\users\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,57675)),"E:\\PROJECT\\Final_project\\src\\app\\(dashboard)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,94431)),"E:\\PROJECT\\Final_project\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["E:\\PROJECT\\Final_project\\src\\app\\(dashboard)\\setting\\users\\page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/(dashboard)/setting/users/page",pathname:"/setting/users",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},11997:e=>{"use strict";e.exports=require("punycode")},12941:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(62688).A)("menu",[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]])},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},22915:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(62688).A)("cog",[["path",{d:"M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z",key:"sobvz5"}],["path",{d:"M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",key:"11i496"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}]])},27910:e=>{"use strict";e.exports=require("stream")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},29409:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(62688).A)("chart-no-axes-column",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]])},33717:(e,t,r)=>{Promise.resolve().then(r.bind(r,76176))},33873:e=>{"use strict";e.exports=require("path")},34257:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>y});var s=r(60687),a=r(43210),l=r(16189),i=r(16391),n=r(32245),d=r(41862),o=r(41312),c=r(93613),u=r(5336),p=r(62688);let h=(0,p.A)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),x=(0,p.A)("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),m=(e,t)=>{if(e instanceof Error)return e.message||t;if("object"==typeof e&&e&&"message"in e){let r=e.message;return"string"==typeof r?r:t}return t};function y(){let{user:e,userRole:t}=(0,n.s)();(0,l.useRouter)();let[r,p]=(0,a.useState)([]),[y,f]=(0,a.useState)(!0),[g,v]=(0,a.useState)(""),[k,b]=(0,a.useState)(null),[j,w]=(0,a.useState)(null),[N,A]=(0,a.useState)(null),M=async e=>{if(confirm("Are you sure you want to delete this user? This action cannot be undone."))try{b(e),w(null);let{error:t}=await i.ND.from("profiles").delete().eq("id",e);if(t)throw t;p(t=>t.filter(t=>t.id!==e)),A("User deleted successfully"),setTimeout(()=>A(null),3e3)}catch(e){w(m(e,"Failed to delete user"))}finally{b(null)}},q=async(e,t)=>{try{w(null);let{error:r}=await i.ND.from("profiles").update({role:t}).eq("id",e);if(r)throw r;p(r=>r.map(r=>r.id===e?{...r,role:t}:r)),A("User role updated successfully"),setTimeout(()=>A(null),3e3)}catch(e){w(m(e,"Failed to update user role"))}},C=r.filter(e=>e.first_name.toLowerCase().includes(g.toLowerCase())||e.last_name.toLowerCase().includes(g.toLowerCase())||e.role.toLowerCase().includes(g.toLowerCase()));return t&&!(0,i.qc)(t)?null:y?(0,s.jsxs)("div",{className:"flex items-center justify-center p-8",children:[(0,s.jsx)(d.A,{className:"w-8 h-8 animate-spin text-neutral-400"}),(0,s.jsx)("span",{className:"ml-3 text-neutral-500",children:"Loading users..."})]}):(0,s.jsxs)("div",{className:"w-full max-w-6xl mx-auto p-6 space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"bg-neutral-100 p-2 rounded-lg",children:(0,s.jsx)(o.A,{className:"w-6 h-6 text-neutral-600"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-heading",children:"User Management"}),(0,s.jsx)("p",{className:"text-muted",children:"Manage user accounts and roles (Admin Only)"})]})]}),j&&(0,s.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 flex items-center gap-2",children:[(0,s.jsx)(c.A,{className:"w-5 h-5 text-red-600"}),(0,s.jsx)("p",{className:"text-red-700 font-medium",children:j})]}),N&&(0,s.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4 flex items-center gap-2",children:[(0,s.jsx)(u.A,{className:"w-5 h-5 text-green-600"}),(0,s.jsx)("span",{className:"text-green-700 font-medium",children:N})]}),(0,s.jsx)("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(h,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-neutral-400"}),(0,s.jsx)("input",{type:"text",placeholder:"Search users...",value:g,onChange:e=>v(e.target.value),className:"pl-10 pr-4 py-2 border border-neutral-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,s.jsxs)("span",{className:"text-sm text-neutral-500",children:[C.length," of ",r.length," users"]})]})}),(0,s.jsxs)("div",{className:"card overflow-hidden",children:[(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full",children:[(0,s.jsx)("thead",{className:"bg-neutral-50 border-b border-neutral-200",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"User"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Role"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Created"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Actions"})]})}),(0,s.jsx)("tbody",{className:"bg-white divide-y divide-neutral-200",children:C.map(t=>(0,s.jsxs)("tr",{className:"hover:bg-neutral-50",children:[(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"flex-shrink-0 h-10 w-10",children:(0,s.jsx)("div",{className:"h-10 w-10 rounded-full bg-neutral-100 flex items-center justify-center",children:(0,s.jsxs)("span",{className:"text-sm font-medium text-neutral-600",children:[t.first_name.charAt(0),t.last_name.charAt(0)]})})}),(0,s.jsxs)("div",{className:"ml-4",children:[(0,s.jsxs)("div",{className:"text-sm font-medium text-neutral-900",children:[t.first_name," ",t.last_name]}),(0,s.jsx)("div",{className:"text-sm text-neutral-500",children:t.role})]})]})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsxs)("select",{value:t.role,onChange:e=>q(t.id,e.target.value),className:"text-sm border border-neutral-200 rounded-md px-2 py-1 focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:t.id===e?.id,children:[(0,s.jsx)("option",{value:"admin",children:"Admin"}),(0,s.jsx)("option",{value:"user",children:"User"})]})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-neutral-500",children:new Date(t.created_at).toLocaleDateString()}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,s.jsxs)("button",{onClick:()=>M(t.id),disabled:t.id===e?.id||k===t.id,className:"text-red-600 hover:text-red-900 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-1",title:t.id===e?.id?"Cannot delete your own account":"Delete user",children:[k===t.id?(0,s.jsx)(d.A,{className:"w-4 h-4 animate-spin"}):(0,s.jsx)(x,{className:"w-4 h-4"}),"Delete"]})})]},t.id))})]})}),0===C.length&&(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)(o.A,{className:"w-12 h-12 text-neutral-300 mx-auto mb-4"}),(0,s.jsx)("h3",{className:"text-lg font-medium text-neutral-900 mb-2",children:"No users found"}),(0,s.jsx)("p",{className:"text-neutral-500",children:g?`No users match "${g}"`:"No users have been registered yet"})]})]})]})}},34631:e=>{"use strict";e.exports=require("tls")},40083:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(62688).A)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]])},41312:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(62688).A)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])},41862:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(62688).A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},47033:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(62688).A)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},47285:(e,t,r)=>{Promise.resolve().then(r.bind(r,34257))},49625:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(62688).A)("layout-dashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]])},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},57155:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(62688).A)("sprout",[["path",{d:"M7 20h10",key:"e6iznv"}],["path",{d:"M10 20c5.5-2.5.8-6.4 3-10",key:"161w41"}],["path",{d:"M9.5 9.4c1.1.8 1.8 2.2 2.3 3.7-2 .4-3.5.4-4.8-.3-1.2-.6-2.3-1.9-3-4.2 2.8-.5 4.4 0 5.5.8z",key:"9gtqwd"}],["path",{d:"M14.1 6a7 7 0 0 0-1.1 4c1.9-.1 3.3-.6 4.3-1.4 1-1 1.6-2.3 1.7-4.6-2.7.1-4 1-4.9 2z",key:"bkxnd2"}]])},58869:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(62688).A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},62688:(e,t,r)=>{"use strict";r.d(t,{A:()=>u});var s=r(43210);let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),i=e=>{let t=l(e);return t.charAt(0).toUpperCase()+t.slice(1)},n=(...e)=>e.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim(),d=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var o={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let c=(0,s.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:l="",children:i,iconNode:c,...u},p)=>(0,s.createElement)("svg",{ref:p,...o,width:t,height:t,stroke:e,strokeWidth:a?24*Number(r)/Number(t):r,className:n("lucide",l),...!i&&!d(u)&&{"aria-hidden":"true"},...u},[...c.map(([e,t])=>(0,s.createElement)(e,t)),...Array.isArray(i)?i:[i]])),u=(e,t)=>{let r=(0,s.forwardRef)(({className:r,...l},d)=>(0,s.createElement)(c,{ref:d,iconNode:t,className:n(`lucide-${a(i(e))}`,`lucide-${e}`,r),...l}));return r.displayName=i(e),r}},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},74075:e=>{"use strict";e.exports=require("zlib")},76176:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"E:\\\\PROJECT\\\\Final_project\\\\src\\\\app\\\\(dashboard)\\\\setting\\\\users\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"E:\\PROJECT\\Final_project\\src\\app\\(dashboard)\\setting\\users\\page.tsx","default")},78272:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(62688).A)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},79428:e=>{"use strict";e.exports=require("buffer")},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},84027:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(62688).A)("settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},91645:e=>{"use strict";e.exports=require("net")},93613:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(62688).A)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},94735:e=>{"use strict";e.exports=require("events")}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[447,304,934,530,518],()=>r(11964));module.exports=s})();