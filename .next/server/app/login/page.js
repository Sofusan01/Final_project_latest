(()=>{var e={};e.id=520,e.ids=[520],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},8284:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>a.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d});var s=r(65239),i=r(48088),n=r(88170),a=r.n(n),o=r(30893),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let d={children:["",{children:["login",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,94934)),"E:\\PROJECT\\Final_project\\src\\app\\login\\page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,94431)),"E:\\PROJECT\\Final_project\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["E:\\PROJECT\\Final_project\\src\\app\\login\\page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:i.RouteKind.APP_PAGE,page:"/login/page",pathname:"/login",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11997:e=>{"use strict";e.exports=require("punycode")},14086:()=>{},16391:(e,t,r)=>{"use strict";r.d(t,{ND:()=>s,qc:()=>n});let s=(0,r(43530).createClient)("https://filyujdgxtjoqkebvegb.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZpbHl1amRneHRqb3FrZWJ2ZWdiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTA3NTk1NjAsImV4cCI6MjA2NjMzNTU2MH0.2-CROlvK_eQYoIvI9PqRRmLGOfLD2TQnsQfwMAyxJ0k",{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),i={ADMIN:"admin"},n=e=>e===i.ADMIN},17789:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,86346,23)),Promise.resolve().then(r.t.bind(r,27924,23)),Promise.resolve().then(r.t.bind(r,35656,23)),Promise.resolve().then(r.t.bind(r,40099,23)),Promise.resolve().then(r.t.bind(r,38243,23)),Promise.resolve().then(r.t.bind(r,28827,23)),Promise.resolve().then(r.t.bind(r,62763,23)),Promise.resolve().then(r.t.bind(r,97173,23))},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},22334:()=>{},22525:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,16444,23)),Promise.resolve().then(r.t.bind(r,16042,23)),Promise.resolve().then(r.t.bind(r,88170,23)),Promise.resolve().then(r.t.bind(r,49477,23)),Promise.resolve().then(r.t.bind(r,29345,23)),Promise.resolve().then(r.t.bind(r,12089,23)),Promise.resolve().then(r.t.bind(r,46577,23)),Promise.resolve().then(r.t.bind(r,31307,23))},27910:e=>{"use strict";e.exports=require("stream")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},39727:()=>{},47990:()=>{},53640:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var s=r(60687),i=r(43210),n=r(85814),a=r.n(n);function o({type:e,onSubmit:t,loading:r,hideHeader:n=!1,hideLinks:o=!1}){let[l,d]=(0,i.useState)(""),[c,u]=(0,i.useState)(""),[m,p]=(0,i.useState)(""),[x,h]=(0,i.useState)(""),[v,b]=(0,i.useState)(""),[f,g]=(0,i.useState)({}),j=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),N=e=>e.length>=6,P=()=>{let t={};return l.trim()?j(l)||(t.email="รูปแบบอีเมลไม่ถูกต้อง"):t.email="กรุณากรอกอีเมล",c.trim()?N(c)||(t.password="รหัสผ่านต้องมีอย่างน้อย 6 ตัวอักษร"):t.password="กรุณากรอกรหัสผ่าน","register"===e&&(x.trim()||(t.firstName="กรุณากรอกชื่อ"),v.trim()||(t.lastName="กรุณากรอกนามสกุล"),m.trim()?c!==m&&(t.confirmPassword="รหัสผ่านไม่ตรงกัน"):t.confirmPassword="กรุณายืนยันรหัสผ่าน"),g(t),0===Object.keys(t).length},y=async e=>{e.preventDefault(),P()&&await t(l,c,x,v)};return(0,s.jsxs)("div",{className:"flex flex-col items-center",children:[(0,s.jsxs)("form",{onSubmit:y,className:"flex flex-col gap-6 w-full max-w-md card p-8 animate-scale-in",children:[!n&&(0,s.jsxs)("div",{className:"text-center mb-6",children:[(0,s.jsx)("h2",{className:"text-3xl font-bold text-heading mb-3",children:"login"===e?"Welcome Back":"Create Account"}),(0,s.jsx)("p",{className:"text-body text-base font-medium",children:"login"===e?"Sign in to your account":"Join our plant monitoring system"})]}),"register"===e&&(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("input",{type:"text",className:`input ${f.firstName?"border-red-500":""}`,placeholder:"First Name",value:x,onChange:e=>h(e.target.value),required:!0}),f.firstName&&(0,s.jsx)("p",{className:"text-red-500 text-sm mt-1",children:f.firstName})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("input",{type:"text",className:`input ${f.lastName?"border-red-500":""}`,placeholder:"Last Name",value:v,onChange:e=>b(e.target.value),required:!0}),f.lastName&&(0,s.jsx)("p",{className:"text-red-500 text-sm mt-1",children:f.lastName})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("input",{type:"email",autoComplete:"username",className:`input ${f.email?"border-red-500":""}`,placeholder:"Email Address",value:l,onChange:e=>d(e.target.value),disabled:r,required:!0}),f.email&&(0,s.jsx)("p",{className:"text-red-500 text-sm mt-1",children:f.email})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("input",{type:"password",autoComplete:"login"===e?"current-password":"new-password",className:`input ${f.password?"border-red-500":""}`,placeholder:"Password",value:c,onChange:e=>u(e.target.value),disabled:r,required:!0,minLength:6}),f.password&&(0,s.jsx)("p",{className:"text-red-500 text-sm mt-1",children:f.password})]}),"register"===e&&(0,s.jsxs)("div",{children:[(0,s.jsx)("input",{type:"password",autoComplete:"new-password",className:`input ${f.confirmPassword?"border-red-500":""}`,placeholder:"Confirm Password",value:m,onChange:e=>p(e.target.value),disabled:r,required:!0}),f.confirmPassword&&(0,s.jsx)("p",{className:"text-red-500 text-sm mt-1",children:f.confirmPassword})]}),(0,s.jsx)("button",{type:"submit",disabled:r,className:"btn-primary disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:r?"Processing...":"login"===e?"Sign In":"Create Account"})]}),!o&&(0,s.jsx)(s.Fragment,{children:"login"===e?(0,s.jsxs)("div",{className:"text-center mt-8 text-muted",children:["Don't have an account?"," ",(0,s.jsx)(a(),{href:"/register",className:"text-neutral-900 hover:text-neutral-700 underline font-semibold transition-colors duration-200",children:"Sign up"})]}):(0,s.jsxs)("div",{className:"text-center mt-8 text-muted",children:["Already have an account?"," ",(0,s.jsx)(a(),{href:"/login",className:"text-neutral-900 hover:text-neutral-700 underline font-semibold transition-colors duration-200",children:"Sign in"})]})})]})}},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},57623:(e,t,r)=>{Promise.resolve().then(r.bind(r,94934))},61135:()=>{},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},69488:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});var s=r(60687),i=r(43210),n=r(16189),a=r(16391),o=r(53640);let l=e=>{if(e instanceof Error)return e.message;if("object"==typeof e&&e&&"message"in e){let t=e.message;return"string"==typeof t?t:""}return""};function d(){let[e,t]=(0,i.useState)(!1),[r,d]=(0,i.useState)(null),c=(0,n.useRouter)(),u=async(e,r)=>{try{t(!0),d(null);let{data:s,error:i}=await a.ND.auth.signInWithPassword({email:e,password:r});if(i)throw i;s.user&&c.replace("/dashboard")}catch(r){let e="ไม่พบผู้ใช้ในระบบ หรือ รหัสผ่านไม่ถูกต้อง",t=l(r);t&&(e=t.includes("Invalid login credentials")?"ไม่พบผู้ใช้ในระบบ หรือ รหัสผ่านไม่ถูกต้อง":t.includes("Email not confirmed")?"กรุณายืนยันอีเมลของคุณก่อนเข้าสู่ระบบ":t.includes("Too many requests")?"มีการพยายามเข้าสู่ระบบมากเกินไป กรุณาลองใหม่ภายหลัง":"ไม่พบผู้ใช้ในระบบ หรือ รหัสผ่านไม่ถูกต้อง"),d(e)}finally{t(!1)}};return(0,s.jsx)("div",{className:"min-h-screen bg-neutral-50 flex items-center justify-center p-4",children:(0,s.jsxs)("div",{className:"w-full max-w-md",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-neutral-900 mb-2",children:"Welcome Back"}),(0,s.jsx)("p",{className:"text-neutral-600",children:"Sign in to your account"})]}),r&&(0,s.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 mb-6",children:(0,s.jsx)("p",{className:"text-red-700 font-medium",children:r})}),(0,s.jsx)(o.A,{type:"login",onSubmit:u,loading:e,hideHeader:!0,hideLinks:!0}),(0,s.jsx)("div",{className:"text-center mt-6",children:(0,s.jsxs)("p",{className:"text-neutral-600",children:["Don't have an account?"," ",(0,s.jsx)("a",{href:"/register",className:"text-blue-600 hover:text-blue-700 font-medium",children:"Sign up"})]})})]})})}},70058:e=>{function t(e){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=70058,e.exports=t},70440:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var s=r(31658);let i=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},74075:e=>{"use strict";e.exports=require("zlib")},79428:e=>{"use strict";e.exports=require("buffer")},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},85647:(e,t,r)=>{Promise.resolve().then(r.bind(r,69488))},91645:e=>{"use strict";e.exports=require("net")},94431:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o,metadata:()=>a});var s=r(37413),i=r(51194),n=r.n(i);r(61135);let a={title:"Hydroponic System",description:"Smart Hydroponic Monitoring System"};function o({children:e}){return(0,s.jsx)("html",{lang:"en",children:(0,s.jsx)("body",{className:`${n().variable} antialiased`,children:e})})}},94735:e=>{"use strict";e.exports=require("events")},94934:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"E:\\\\PROJECT\\\\Final_project\\\\src\\\\app\\\\login\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"E:\\PROJECT\\Final_project\\src\\app\\login\\page.tsx","default")}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[447,304,934,530,814],()=>r(8284));module.exports=s})();