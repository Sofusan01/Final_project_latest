exports.id=518,exports.ids=[518],exports.modules={12108:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>P});var l=s(60687),a=s(43210),n=s(16189),r=s(49625),i=s(84027),o=s(29409),c=s(22915),d=s(41312),u=s(12941),m=s(57155),x=s(47033),h=s(11860),f=s(58869),p=s(3589),b=s(78272),j=s(40083);let v=function({collapsed:e,user:t,onLogout:s}){let[n,r]=(0,a.useState)(!1),i=(0,a.useRef)(null),o=t?`${t.firstName} ${t.lastName}`.trim():"Loading...";return e?(0,l.jsx)("div",{className:"flex justify-center",children:(0,l.jsxs)("button",{className:"w-12 h-12 rounded-2xl bg-neutral-100 hover:bg-neutral-200 flex items-center justify-center group relative transition-all duration-300",title:o,children:[(0,l.jsx)(f.A,{className:"w-6 h-6 text-neutral-600"}),(0,l.jsx)("span",{className:"absolute left-full ml-3 top-1/2 -translate-y-1/2 card text-neutral-900 px-3 py-2 rounded-xl opacity-0 group-hover:opacity-100 text-sm pointer-events-none whitespace-nowrap z-50 transition-opacity duration-300 shadow-lg",children:o})]})}):(0,l.jsxs)("div",{className:"relative",ref:i,children:[(0,l.jsxs)("button",{onClick:()=>r(e=>!e),className:"w-full flex items-center gap-4 px-4 py-3 rounded-2xl bg-neutral-100 hover:bg-neutral-200 text-neutral-900 transition-all duration-300",children:[(0,l.jsx)("div",{className:"w-10 h-10 rounded-xl bg-neutral-200 flex items-center justify-center",children:(0,l.jsx)(f.A,{className:"w-5 h-5 text-neutral-600"})}),(0,l.jsxs)("div",{className:"flex flex-col items-start flex-1 min-w-0",children:[(0,l.jsx)("span",{className:"font-semibold text-sm truncate text-neutral-900",children:o}),(0,l.jsx)("span",{className:"text-xs text-neutral-500 font-medium",children:"User Account"})]}),n?(0,l.jsx)(p.A,{className:"w-4 h-4 flex-shrink-0 text-neutral-500"}):(0,l.jsx)(b.A,{className:"w-4 h-4 flex-shrink-0 text-neutral-500"})]}),n&&(0,l.jsx)("div",{className:"absolute left-0 bottom-full mb-3 w-full rounded-2xl card shadow-lg z-50 animate-fade-in",children:(0,l.jsxs)("button",{className:"flex items-center w-full px-4 py-3 text-sm text-red-600 hover:text-red-700 hover:bg-red-50 rounded-xl transition-all duration-300",onClick:async()=>{await s()},children:[(0,l.jsx)(j.A,{className:"w-4 h-4 mr-3"}),"Sign Out"]})})]})};var N=s(32245),g=s(16391);let y=[{label:"Dashboard",icon:r.A,href:"/dashboard"},{label:"Console",icon:i.A,href:"/console"},{label:"Result",icon:o.A,href:"/result"},{label:"Settings",icon:c.A,href:"/setting"}],w=[{label:"Users",icon:d.A,href:"/setting/users"}],C=({collapsed:e,onClick:t})=>(0,l.jsxs)("button",{onClick:t,className:"flex flex-col justify-center items-center w-8 h-8 space-y-1 group","aria-label":"Toggle menu",children:[(0,l.jsx)("div",{className:`w-5 h-0.5 bg-neutral-600 transition-all duration-300 ${e?"rotate-0":"rotate-45 translate-y-1.5"}`}),(0,l.jsx)("div",{className:`w-5 h-0.5 bg-neutral-600 transition-all duration-300 ${e?"opacity-100":"opacity-0"}`}),(0,l.jsx)("div",{className:`w-5 h-0.5 bg-neutral-600 transition-all duration-300 ${e?"rotate-0":"-rotate-45 -translate-y-1.5"}`})]});function k({collapsed:e,setCollapsed:t}){let[s,r]=(0,a.useState)(!1),i=(0,n.usePathname)(),o=(0,n.useRouter)(),{user:c,logout:d,userRole:f,firstName:p,lastName:b}=(0,N.s)(),j=(0,a.useCallback)(e=>i===e,[i]),k=(0,a.useCallback)(e=>{r(!1),i!==e&&o.push(e)},[i,o]),A=(0,a.useCallback)(async()=>{await d(),r(!1)},[d]);if(!c)return null;let P=(0,g.qc)(f)?[...y,...w]:y;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("button",{onClick:()=>r(!0),className:"fixed top-6 left-6 z-50 md:hidden btn-secondary p-3","aria-label":"Open menu",children:(0,l.jsx)(u.A,{className:"w-5 h-5 text-neutral-600"})}),s&&(0,l.jsx)("div",{className:"fixed inset-0 bg-black/20 z-40 md:hidden backdrop-blur-sm",onClick:()=>r(!1)}),(0,l.jsxs)("aside",{className:`
                    fixed top-0 left-0 h-full z-50
                    flex flex-col
                    text-neutral-900 shadow-lg transition-all duration-300 ease-out
                    border-r border-neutral-200
                    ${e?"w-20":"w-80"}
                    ${s?"translate-x-0":"-translate-x-full"}
                    md:translate-x-0 md:z-30
                    bg-white
                `,children:[(0,l.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-neutral-200 h-24",children:[!e&&(0,l.jsxs)("button",{onClick:()=>k("/dashboard"),className:"flex items-center gap-4 group relative z-10",children:[(0,l.jsx)("div",{className:"p-3 rounded-2xl bg-neutral-100 group-hover:bg-neutral-200 transition-colors duration-200",children:(0,l.jsx)(m.A,{className:"w-6 h-6 text-neutral-700"})}),(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsx)("span",{className:"font-bold text-xl text-neutral-900 tracking-wide",children:"Wolffia"}),(0,l.jsx)("span",{className:"text-xs text-neutral-500 font-medium tracking-wider uppercase",children:"Plant Dashboard"})]})]}),e&&(0,l.jsx)("div",{className:"flex justify-center w-full",children:(0,l.jsx)(C,{collapsed:e,onClick:()=>t(!e)})}),!e&&(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("button",{onClick:()=>t(!e),className:"hidden md:flex items-center justify-center w-8 h-8 rounded-xl bg-neutral-100 hover:bg-neutral-200 transition-colors duration-200","aria-label":"Collapse menu",children:(0,l.jsx)(x.A,{className:"w-4 h-4 text-neutral-600"})}),(0,l.jsx)("button",{onClick:()=>r(!1),className:"md:hidden flex items-center justify-center w-8 h-8 rounded-xl bg-neutral-100 hover:bg-neutral-200 transition-colors duration-200","aria-label":"Close menu",children:(0,l.jsx)(h.A,{className:"w-4 h-4 text-neutral-600"})})]})]}),(0,l.jsx)("nav",{className:"flex-1 flex flex-col py-6 px-3 space-y-2",children:P.map(({label:t,icon:s,href:a})=>{let n=j(a),r=w.some(e=>e.href===a);return(0,l.jsxs)("button",{onClick:()=>k(a),className:`
                                    group relative flex items-center rounded-xl transition-all duration-200
                                    ${e?"justify-center p-4":"px-4 py-4"}
                                    ${n?"nav-item active":"nav-item"}
                                    ${r?"border-l-4 border-l-blue-500":""}
                                `,title:r?`${t} (Admin Only)`:t,children:[(0,l.jsx)(s,{className:`flex-shrink-0 ${e?"w-6 h-6":"w-5 h-5"}`}),!e&&(0,l.jsxs)("span",{className:"ml-4 font-medium whitespace-nowrap text-sm",children:[t,r&&(0,l.jsx)("span",{className:"ml-2 text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded-full",children:"Admin"})]}),e&&(0,l.jsxs)("div",{className:"absolute left-full ml-3 px-3 py-2 card text-neutral-900 text-sm rounded-xl opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none whitespace-nowrap z-50 shadow-lg",children:[t,r&&" (Admin Only)"]})]},a)})}),(0,l.jsx)("div",{className:"px-3 pb-6",children:(0,l.jsx)(v,{collapsed:e,user:{firstName:p??(c.email?.split("@")[0]||"User"),lastName:b??""},onLogout:A})})]})]})}function A(){(0,n.usePathname)();let[e,t]=(0,a.useState)([]);return null}function P({children:e}){let[t,s]=(0,a.useState)(!1),{user:r,loading:i}=(0,N.s)();return((0,n.useRouter)(),i)?(0,l.jsx)("div",{className:"w-full h-screen flex items-center justify-center bg-neutral-50",children:(0,l.jsx)("div",{className:"card p-8 animate-fade-in",children:(0,l.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,l.jsx)("div",{className:"relative",children:(0,l.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-transparent border-t-neutral-400 border-r-neutral-600"})}),(0,l.jsx)("span",{className:"text-neutral-600 text-sm font-medium",children:"Loading..."})]})})}):r?(0,l.jsxs)("div",{className:"flex min-h-screen bg-neutral-50",children:[(0,l.jsx)(k,{collapsed:t,setCollapsed:s}),(0,l.jsx)("main",{className:`
                    flex-1 transition-all duration-300 ease-out
                    min-h-screen relative
                    ${t?"md:ml-20":"md:ml-80"}
                    ml-0
                    bg-neutral-50
                `,children:(0,l.jsx)("div",{className:"p-6 sm:p-8 pt-24 md:pt-8",children:e})}),(0,l.jsx)(A,{})]}):null}},14086:()=>{},16391:(e,t,s)=>{"use strict";s.d(t,{ND:()=>l,qc:()=>n});let l=(0,s(43530).createClient)("https://filyujdgxtjoqkebvegb.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZpbHl1amRneHRqb3FrZWJ2ZWdiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTA3NTk1NjAsImV4cCI6MjA2NjMzNTU2MH0.2-CROlvK_eQYoIvI9PqRRmLGOfLD2TQnsQfwMAyxJ0k",{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),a={ADMIN:"admin"},n=e=>e===a.ADMIN},17789:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,86346,23)),Promise.resolve().then(s.t.bind(s,27924,23)),Promise.resolve().then(s.t.bind(s,35656,23)),Promise.resolve().then(s.t.bind(s,40099,23)),Promise.resolve().then(s.t.bind(s,38243,23)),Promise.resolve().then(s.t.bind(s,28827,23)),Promise.resolve().then(s.t.bind(s,62763,23)),Promise.resolve().then(s.t.bind(s,97173,23))},22334:()=>{},22525:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,16444,23)),Promise.resolve().then(s.t.bind(s,16042,23)),Promise.resolve().then(s.t.bind(s,88170,23)),Promise.resolve().then(s.t.bind(s,49477,23)),Promise.resolve().then(s.t.bind(s,29345,23)),Promise.resolve().then(s.t.bind(s,12089,23)),Promise.resolve().then(s.t.bind(s,46577,23)),Promise.resolve().then(s.t.bind(s,31307,23))},32245:(e,t,s)=>{"use strict";s.d(t,{s:()=>r});var l=s(43210),a=s(16391),n=s(16189);function r(){let[e,t]=(0,l.useState)(null),[s,r]=(0,l.useState)(!0),[i,o]=(0,l.useState)(null),[c,d]=(0,l.useState)(null),[u,m]=(0,l.useState)(null),x=(0,n.useRouter)(),h=(0,l.useCallback)(async()=>{try{await a.ND.auth.signOut(),localStorage.clear(),sessionStorage.clear(),x.push("/login")}catch(e){console.error("Logout error:",e)}},[x]);return(0,l.useCallback)(async e=>{try{let{data:t}=await a.ND.from("profiles").select("role, first_name, last_name").eq("id",e).single();o(t?.role||"user"),d(t?.first_name||null),m(t?.last_name||null)}catch{o("user"),d(null),m(null)}},[]),{user:e,loading:s,logout:h,userRole:i,firstName:c,lastName:u}}},34326:(e,t,s)=>{Promise.resolve().then(s.bind(s,57675))},39727:()=>{},47990:()=>{},57675:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l});let l=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"E:\\\\PROJECT\\\\Final_project\\\\src\\\\app\\\\(dashboard)\\\\layout.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"E:\\PROJECT\\Final_project\\src\\app\\(dashboard)\\layout.tsx","default")},61135:()=>{},70058:e=>{function t(e){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=70058,e.exports=t},70440:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var l=s(31658);let a=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,l.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},81182:(e,t,s)=>{Promise.resolve().then(s.bind(s,12108))},94431:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i,metadata:()=>r});var l=s(37413),a=s(51194),n=s.n(a);s(61135);let r={title:"Hydroponic System",description:"Smart Hydroponic Monitoring System"};function i({children:e}){return(0,l.jsx)("html",{lang:"en",children:(0,l.jsx)("body",{className:`${n().variable} antialiased`,children:e})})}}};